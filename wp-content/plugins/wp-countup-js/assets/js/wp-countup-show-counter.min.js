import{CountUp}from"./vendor/countUp.min.js";const WP_CUPJS_OBSERVER=new IntersectionObserver(WP_CUPJS_startCounterOnScroll,{rootMargin:"100px 0px 100px 0px",threshold:.7});let WP_CUPJS_TIMERS={};function WP_CUPJS_startCounterOnScroll(e,t){for(let t=0;t<e.length;t++){const r=e[t],s=r.target,n=s.dataset,o=n.hasOwnProperty("observed"),a=n.hasOwnProperty("scroll")&&"true"===n.scroll,u=WP_CUPJS_shouldResetCounter(n);r.isIntersecting?a&&u&&o?WP_CUPJS_resetCounter(s):a&&!u&&o?WP_CUPJS_OBSERVER.unobserve(s):a||!u||o?WP_CUPJS_startCounter(s):(s.dataset.scroll="true",s.dataset.observed="true"):WP_CUPJS_maybeResetCounter(a,u,o,s)}}function WP_CUPJS_shouldResetCounter(e){return e.hasOwnProperty("reset")?"true"===e.reset:!!WP_CU_JS.resetCounterWhenViewAgain}function WP_CUPJS_getPrefix(e,t){return""===t?t:`<span class="wp_cup_prefix" id="prefix-${e}">${t}</span>`}function WP_CUPJS_getSuffix(e,t){return""===t?t:`<span class="wp_cup_suffix" id="suffix-${e}">${t}</span>`}function WP_CUPJS_maybeResetCounter(e,t,r,s){e&&t&&r&&WP_CUPJS_resetCounter(s)}function WP_CUPJS_resetCounter(e){new CountUp(e).reset(),WP_CUPJS_TIMERS.hasOwnProperty(e.id)&&clearTimeout(WP_CUPJS_TIMERS[e.id]),delete e.dataset.observed}function WP_CUPJS_runObserver(e){const t=e.dataset,r=t.hasOwnProperty("scroll")&&"true"===t.scroll,s=t.hasOwnProperty("observed");return!(!r||s)&&(WP_CUPJS_OBSERVER.observe(e),!0)}function WP_CUPJS_startCounter(e,t=!0){let r=e.dataset.end,s=new CountUp(e,parseFloat(r),WP_CUPJS_getOptions(e));const n=parseInt(e.dataset.delay);t&&(e.dataset.observed="true"),0===n||isNaN(n)?s.start():WP_CUPJS_TIMERS[e.id]=setTimeout(()=>s.start(),n)}function WP_CUPJS_getOptions(e){const t=WP_CU_JS.pluginSettings,r=e.dataset;let s={useEasing:t.useEasing,useGrouping:t.useGrouping,separator:t.separator,decimal:t.decimal,prefix:t.prefix,suffix:t.suffix};return r.hasOwnProperty("start")&&(s.startVal=parseFloat(r.start)),r.hasOwnProperty("decimals")&&(s.decimalPlaces=r.decimals),r.hasOwnProperty("duration")&&(s.duration=isNaN(r.duration)?2:r.duration),r.hasOwnProperty("grouping")&&(s.useGrouping="false"!==r.grouping),r.hasOwnProperty("easing")&&(s.useEasing="false"!==r.easing),r.hasOwnProperty("separator")&&(s.separator=r.separator),r.hasOwnProperty("decimal")&&(s.decimal=r.decimal),r.hasOwnProperty("prefix")&&(s.prefix=r.prefix),r.hasOwnProperty("suffix")&&(s.suffix=r.suffix),s.prefix=WP_CUPJS_getPrefix(e.id,s.prefix),s.suffix=WP_CUPJS_getSuffix(e.id,s.suffix),s}function WP_CUPJS_prepareCounter(e){if(WP_CUPJS_runObserver(e))return;WP_CUPJS_shouldResetCounter(e.dataset)&&WP_CUPJS_OBSERVER.observe(e);WP_CUPJS_startCounter(e,!1)}function WP_CUPJS_initCounters(){const e=document.querySelectorAll(".counter");for(let t=0;t<e.length;t++){let r=e[t];r.setAttribute("id","counter-"+t),WP_CUPJS_prepareCounter(r)}}window.WP_CU_JS.startCounter=e=>WP_CUPJS_startCounter(e),document.addEventListener("DOMContentLoaded",WP_CUPJS_initCounters);